<!DOCTYPE html>

<html>
  <head>
    <title>My First HTML Page</title>
  </head>
  <body>
    <h1>Hello World!</h1>
    <p>
        This is a page about how Copilot generated this code. It also generated the text. I just typed about 1/3 of the comments.
        (And about 4 words of this paragraph.) View the source code to see how it did it. It's literally just comments, and it's
        typing them for me. I'm not even sure how it's doing it. I'm just typing this paragraph and it's typing the comments.
    </p>
    <!--
        THIS COMMENT AND PARTS OF THE PRECEDING <P> AND THE BELOW ALL-CAPS BITS ARE WRITTEN BY ME. THE REST OF THIS DOC
        DESCRIBES WHAT I HAD TO TYPE (COMMENTS ONLY) TO GENERATE THIS CODE. I WROTE COMMENTS ONLY AND ALSO GOT
        ONE BIG TAB COMPLETE BY CREATING AN index.html
    -->
    <script>
        // create a function to visualize con (ONE-TWO TABS FROM HERE) way's game of life #
        // we will render to (TO HERE THEN IT GUESSES CANVAS) an HTML canvas (THEN IT GOES ON A TEAR FROM HERE)
        function createCanvas(width, height) {
            // create a canvas element
            var canvas = document.createElement('canvas');
            // set the width and height
            canvas.width = width;
            canvas.height = height;
            // return the canvas
            return canvas;
        }

        // create a function to get the context of a canvas
        function getContext(canvas) {
            // get the context
            var context = canvas.getContext('2d');
            // return the context
            return context;
        }

        // (NEW TAB COMPLETE AND TALK ABOUT CORE) Implement the core (TAB COMPLETED FROM HERE) logic of the game of life.
        // We will use a 2D array to represent the game board.
        // The game board will be a 2D array of booleans.
        // A true value represents a live cell, a false value represents a dead cell.
        // The game board will be initialized with a random set of live cells.
        // The game board will be updated using the following rules:
        // 1. Any live cell with fewer than two live neighbors dies, as if caused by under-population.
        // 2. Any live cell with two or three live neighbors lives on to the next generation.
        function createGameBoard(width, height) {
            // create a 2D array to represent the game board
            var gameBoard = [];
            // loop through the rows
            for (var row = 0; row < height; row++) {
                // create a new row
                gameBoard[row] = [];
                // loop through the columns
                for (var col = 0; col < width; col++) {
                    // randomly set the cell to be alive or dead
                    gameBoard[row][col] = Math.random() > 0.5;
                }
            }
            // return the game board
            return gameBoard;
        }

        // create a function to get the number of live neighbors for a cell
        function getLiveNeighbors(gameBoard, row, col) {
            // get the height and width of the game board
            var height = gameBoard.length;
            var width = gameBoard[0].length;
            // initialize the number of live neighbors
            var liveNeighbors = 0;
            // loop through the rows
            for (var i = -1; i <= 1; i++) {
                // loop through the columns
                for (var j = -1; j <= 1; j++) {
                    // get the row and column of the neighbor
                    var neighborRow = row + i;
                    var neighborCol = col + j;
                    // check if the neighbor is out of bounds
                    if (neighborRow < 0 || neighborRow >= height || neighborCol < 0 || neighborCol >= width) {
                        // skip this neighbor
                        continue;
                    }
                    // check if the neighbor is the cell itself
                    if (i === 0 && j === 0) {
                        // skip this neighbor
                        continue;
                    }
                    // check if the neighbor is alive
                    if (gameBoard[neighborRow][neighborCol]) {
                        // increment the number of live neighbors
                        liveNeighbors++;
                    }
                }
            }
            // return the number of live neighbors
            return liveNeighbors;
        }

        // create a function to update the game board
        function updateGameBoard(gameBoard) {
            // get the height and width of the game board
            var height = gameBoard.length;
            var width = gameBoard[0].length;
            // create a new game board
            var newGameBoard = [];
            // loop through the rows
            for (var row = 0; row < height; row++) {
                // create a new row
                newGameBoard[row] = [];
                // loop through the columns
                for (var col = 0; col < width; col++) {
                    // get the number of live neighbors
                    var liveNeighbors = getLiveNeighbors(gameBoard, row, col);
                    // check if the cell is alive
                    if (gameBoard[row][col]) {
                        // check if the cell has two or three live neighbors
                        if (liveNeighbors === 2 || liveNeighbors === 3) {
                            // the cell lives on to the next generation
                            newGameBoard[row][col] = true;
                        } else {
                            // the cell dies
                            newGameBoard[row][col] = false;
                        }
                    } else {
                        // check if the cell has three live neighbors
                        if (liveNeighbors === 3) {
                            // the cell is born
                            newGameBoard[row][col] = true;
                        } else {
                            // the cell remains dead
                            newGameBoard[row][col] = false;
                        }
                    }
                }
            }
            // return the new game board
            return newGameBoard;
        }

        // (TO ABOUT HERE WITH 2-3 TAB COMPLETES) create a function to render the game board to a canvas
        function renderGameToCanvas(gameBoard, canvas, cellSize) {
            // get the context of the canvas
            var context = getContext(canvas);
            // get the height and width of the game board
            var height = gameBoard.length;
            var width = gameBoard[0].length;
            // loop through the rows
            for (var row = 0; row < height; row++) {
                // loop through the columns
                for (var col = 0; col < width; col++) {
                    // check if the cell is alive
                    if (gameBoard[row][col]) {
                        // set the fill style to black
                        context.fillStyle = 'black';
                    } else {
                        // set the fill style to white
                        context.fillStyle = 'white';
                    }
                    // fill a rectangle for the cell
                    context.fillRect(col * cellSize, row * cellSize, cellSize, cellSize);
                }
            }
        }

        // create a function to run the game of life
        function runGame(canvas, cellSize, gameBoard) {
            // get the context of the canvas
            var context = getContext(canvas);
            // get the width and height of the canvas
            var width = canvas.width;
            var height = canvas.height;
            // calculate the number of rows and columns
            var rows = height / cellSize;
            var cols = width / cellSize;
            // create the game board
            gameBoard = updateGameBoard(gameBoard);
            renderGameToCanvas(gameBoard, canvas, cellSize);
            return gameBoard;
        }

        // create the game canvas html element (I TYPED A LITTLE BIT HERE)
        function createGameCanvas() {
            // create a canvas element
            var canvas = document.createElement('canvas');
            // set the width and height of the canvas
            canvas.width = 500;
            canvas.height = 500;
            // set the id of the canvas
            canvas.id = 'game-of-life';
            // add the canvas to the body
            document.body.appendChild(canvas);
            // return the canvas
            return canvas;
        }


        // (THEN AGAIN HERE, HAD TO DELETE AND REGENERATE SOMETHING HERE I RECALL) Show the game when the page is loaded. Then, every 100 milliseconds, show the game again, updating the game board.
        document.addEventListener('DOMContentLoaded', function() {
            console.log('The game is running!');
            let canvas = createGameCanvas();
            let gameBoard = createGameBoard(50, 50);
            let cellSize = 10;
            setInterval(() => {
                gameBoard = runGame(canvas, cellSize, gameBoard);
            }, 100);
        }, false);
    </script>
  </body>
</html>
